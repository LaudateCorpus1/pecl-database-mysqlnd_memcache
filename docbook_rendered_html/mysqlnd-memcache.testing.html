<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Testing</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="set.mysqlinfo.html">MySQL</a></li>
  <li class="header up"><a href="book.mysqlnd-memcache.html">mysqlnd_memcache</a></li>
  <li class="header up"><a href="mysqlnd-memcache.setup.html">Installing/Configuring</a></li>
  <li><a href="mysqlnd-memcache.requirements.html">Requirements</a></li>
  <li><a href="mysqlnd-memcache.installation.html">Installation</a></li>
  <li><a href="mysqlnd-memcache.configuration.html">Runtime Configuration</a></li>
  <li><a href="mysqlnd-memcache.plugin-ini-json.html">Plugin configuration file (&gt;=1.1.x)</a></li>
  <li><a href="mysqlnd-memcache.plugin-ini-v1.html">Plugin configuration file (&lt;= 1.0.x)</a></li>
  <li class="active"><a href="mysqlnd-memcache.testing.html">Testing</a></li>
  <li><a href="mysqlnd-memcache.debugging.html">Debugging and Tracing</a></li>
  <li><a href="mysqlnd-memcache.monitoring.html">Monitoring</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-memcache.plugin-ini-v1.html">Plugin configuration file (&lt;= 1.0.x)</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-memcache.debugging.html">Debugging and Tracing</a></div>
                <div class="up"><a href="mysqlnd-memcache.setup.html">Installing/Configuring</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="mysqlnd-memcache.testing" class="section">
  <h2 class="title">Testing</h2>
  <blockquote><p><b class="note">Note</b>: 
   
    The section applies to myslqnd_ms 1.1.0 or newer, not the 1.0 series.
   <br />
  </p></blockquote>
  <p class="para">
   The PECL/mysqlnd_ms test suite is in the <var class="filename">tests/</var>
   directory of the source distribution. The test suite consists of standard
   phpt tests, which are described on the PHP Quality Assurance Teams website.
  </p>
  <p class="para">
   Running the tests requires setting up one to four MySQL servers. Some tests don&#039;t
   connect to MySQL at all. Others require one server for testing. Some require
   two distict servers. In some cases two servers are used to emulate a
   replication setup. In other cases a master and a slave of an existing MySQL replication
   setup are required for testing. The tests will try to detect how many servers
   and what kind of servers are given. If the required servers are not found, the
   test will be skipped automatically.
  </p>
  <p class="para">
   Before running the tests, edit <var class="filename">tests/config.inc</var> to
   configure the MySQL servers to be used for testing.
  </p>
  <p class="para">
   The most basic configuration is as follows.
   <div class="example-contents">
<div class="cdata"><pre>
 putenv(&quot;MYSQL_TEST_HOST=localhost&quot;);
 putenv(&quot;MYSQL_TEST_PORT=3306&quot;);
 putenv(&quot;MYSQL_TEST_USER=root&quot;);
 putenv(&quot;MYSQL_TEST_PASSWD=&quot;);
 putenv(&quot;MYSQL_TEST_DB=test&quot;);
 putenv(&quot;MYSQL_TEST_ENGINE=MyISAM&quot;);
 putenv(&quot;MYSQL_TEST_SOCKET=&quot;);

 putenv(&quot;MYSQL_TEST_SKIP_CONNECT_FAILURE=1&quot;);
 putenv(&quot;MYSQL_TEST_CONNECT_FLAGS=0&quot;);
 putenv(&quot;MYSQL_TEST_EXPERIMENTAL=0&quot;);

 /* replication cluster emulation */
 putenv(&quot;MYSQL_TEST_EMULATED_MASTER_HOST=&quot;. getenv(&quot;MYSQL_TEST_HOST&quot;));
 putenv(&quot;MYSQL_TEST_EMULATED_SLAVE_HOST=&quot;. getenv(&quot;MYSQL_TEST_HOST&quot;));

 /* real replication cluster */
 putenv(&quot;MYSQL_TEST_MASTER_HOST=&quot;. getenv(&quot;MYSQL_TEST_EMULATED_MASTER_HOST&quot;));
 putenv(&quot;MYSQL_TEST_SLAVE_HOST=&quot;. getenv(&quot;MYSQL_TEST_EMULATED_SLAVE_HOST&quot;));
</pre></div>
     </div>

   </p>
   <p class="para">
    <i>MYSQL_TEST_HOST</i>, <i>MYSQL_TEST_PORT</i> and
    <i>MYSQL_TEST_SOCKET</i> define the hostname,
    TCP/IP port and Unix domain socket of the default database server.
    <i>MYSQL_TEST_USER</i> and <i>MYSQL_TEST_PASSWD</i>
    contain the user and password needed to connect to the database/schema
    configured with <i>MYSQL_TEST_DB</i>. All configured
    servers must  have the same database user configured to give access to
    the test database.
   </p>
   <p class="para">
    Using <i>host</i>, <i>host:port</i> or <i>host:/path/to/socket</i>
    syntax one can set an alternate  host, host and port or host and socket for any
    of the servers.
   <div class="example-contents">
<div class="cdata"><pre>
putenv(&quot;MYSQL_TEST_SLAVE_HOST=192.168.78.136:3307&quot;));
putenv(&quot;MYSQL_TEST_MASTER_HOST=myserver_hostname:/path/to/socket&quot;));
</pre></div>
     </div>

   </p>
 </div>
        </td>
    </tr>
</table>
</body>
</html>
